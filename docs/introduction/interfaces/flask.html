

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Flask Backend &mdash; Sugaroid v0.27.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  

  
  

  
    <link rel="canonical" href="/docs/introduction/interfaces/flask.html" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Django Web Interface" href="django.html" />
    <link rel="prev" title="Discord Bot" href="discord.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #ff004a" >
          

          
            <a href="../../index.html" class="icon icon-home"> Sugaroid
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Sugaroid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../databases.html">Databases and Training</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Interfaces</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui.html">Graphical User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="discord.html">Discord Bot</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Flask Backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="django.html">Django Web Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="ircbot.html">IRC Bot</a></li>
<li class="toctree-l2"><a class="reference internal" href="telegram.html">Telegram Bot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faults.html">Faults</a></li>
<li class="toctree-l1"><a class="reference internal" href="../execution.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">sugaroid</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Sugaroid</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Interfaces</a> &raquo;</li>
        
      <li>Flask Backend</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/introduction/interfaces/flask.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flask-backend">
<h1>Flask Backend<a class="headerlink" href="#flask-backend" title="Permalink to this headline">¶</a></h1>
<div class="figure align-default" id="id1">
<img alt="Sugaroid Flask Demonstration" src="../../_images/sugaroid_flask.png" />
<p class="caption"><span class="caption-text">Sugaroid Flask Demonstration</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Sugaroid Core Backend is built on the simple and powerful
<a class="reference external" href="https://flask.palletsprojects.com/en/1.1.x/tutorial/layout/">Flask</a>
Web Server powered by <code class="docutils literal notranslate"><span class="pre">gunicorn</span></code> on 4 threads run on another dedicated
Heroku Server and Microsoft Azure Server.</p>
<p>Sugaroid Flask server runs a single instance of Sugaroid on the server,
and then processes user information to and fro from the server. This
takes places by passing the user’s message (initiator) as a URL
parameter. Users information, is not encrypted from both sides however
as this is an educational project, but could be added as an extended
feature in the future. A <code class="docutils literal notranslate"><span class="pre">POST</span></code> request is sent to the backend with
the user’s message as query parameter <code class="docutils literal notranslate"><span class="pre">?usermsg=Hello+World</span></code> and along
with that, a <code class="docutils literal notranslate"><span class="pre">Content-Type/json</span></code>data blob with data in three keys.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{
    &quot;message&quot;: &quot;&lt;message from the bot here&gt;&quot;,
    &quot;emotion&quot;: &lt;int emote number corresponding sugaroid.brain.constants.Emotion&gt;,
    &quot;data&quot;: &quot;FJAASJFjjASFHASAS+DKKDDUERJFdhOwdwdhff+dawfhpJFED&quot;
}
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">data</span></code> field is used by the Sugaroid Bot in getting the message
context (<em>see context</em>) and providing an appropriate reply. This helps
to keep per user configuration on the client side and hence easing out
the burden on the server and helps to serve requests faster. This is
beneficial as it helps to asynchronously serve data but at the same time
might not be intuitive to users as, a delay in request could create
overlapping messages which would not be delivered at the right time.</p>
<p>The data is decoded on the server side. <code class="docutils literal notranslate"><span class="pre">sugaroid.chatbot.globals</span></code> is
reset-ed with the new context and the new message is produced and the
same, modified context is resent back to the user / client. Client
decodes the context and extracts the response of the Unicode string from
the server and appends to the User Interface. The other data is publicly
maintained in a <a class="reference external" href="https://www.javascript.com">JavaScript</a> variable and
then, will be resent to the server on the next user message. This
process happens asynchronously on the client side using <code class="docutils literal notranslate"><span class="pre">JQuery</span></code> ,
AJAX <code class="docutils literal notranslate"><span class="pre">POST</span></code> and <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests with callback handlers,</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="django.html" class="btn btn-neutral float-right" title="Django Web Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="discord.html" class="btn btn-neutral float-left" title="Discord Bot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Srevin Saju, The Sugaroid Project.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>